@Html.DevExpress().CallbackPanel(cpsettings =>
{
    cpsettings.Name = "cbpSendBulhSMS";
    cpsettings.CallbackRouteValues = new { Controller = "Shared", Action = "SendSMSBulk" };

    cpsettings.SetContent(() =>
    {
        Dictionary<EduSpec.ComboboxClientSideEvent, string> SMScomboboxValidateRequiredField = new Dictionary<EduSpec.ComboboxClientSideEvent, string>();
        SMScomboboxValidateRequiredField.Add(ComboboxClientSideEvent.onValidation, "function(s,e){validateRequiredField(e.value, e);}");

        EduSpecHtmlHelper.NewDiv(Html, "edit_form");
        EduSpecHtmlHelper.NewDiv(Html, "line");

        if (Model != null)
        {
            // ComboBox 1
            if (DataBinder.Eval(Model, "ComboBoxIsVisible_1"))
            {
                EduSpecHtmlHelper.Label(Html, DataBinder.Eval(Model, "ComboBoxDescription_1"), 140, "formeditor");
                EduSpecHtmlHelper.ComboBox(Html, "ComboBoxListProc_1", "formeditor", 300, DataBinder.Eval(Model, "ComboBoxListProc_1"), SMScomboboxValidateRequiredField);
            }

            // ComboBox 2
            if (DataBinder.Eval(Model, "ComboBoxIsVisible_2"))
            {
                EduSpecHtmlHelper.Label(Html, DataBinder.Eval(Model, "ComboBoxDescription_2"), 140, "formeditor");
                EduSpecHtmlHelper.ComboBox(Html, "ComboBoxListProc_2", "formeditor", 300, DataBinder.Eval(Model, "ComboBoxListProc_2"), SMScomboboxValidateRequiredField);
            }

            // ComboBox 3
            if (DataBinder.Eval(Model, "ComboBoxIsVisible_3"))
            {
                EduSpecHtmlHelper.Label(Html, DataBinder.Eval(Model, "ComboBoxDescription_3"), 140, "formeditor");
                EduSpecHtmlHelper.ComboBox(Html, "ComboBoxListProc_3", "formeditor", 300, DataBinder.Eval(Model, "ComboBoxListProc_3"), SMScomboboxValidateRequiredField);
            }

            if (DataBinder.Eval(Model, "BulkSMSTypeID") == 2) //Age analysis
            {
                EduSpecHtmlHelper.Label(Html, "Exclude zero balances", 140, "formeditor");
                EduSpecHtmlHelper.CheckBox(Html, "IsExcludeZeroBalances", "formeditor", 80, null);
            }

            if (DataBinder.Eval(Model, "BulkSMSTypeID") == 2) //Age analysis
            {
                EduSpecHtmlHelper.Label(Html, "Exclude Credits", 140, "formeditor");
                EduSpecHtmlHelper.CheckBox(Html, "IsExcludeNegativeBalances", "formeditor", 80, null);
            }
        }


        EduSpecHtmlHelper.EndDiv(Html);
        EduSpecHtmlHelper.EndDiv(Html);
    });
}).GetHtml()
