
@if (Model != null && Model is System.Int32)
{
    @Html.DevExpress().ComboBox(settings =>
    {
        settings.Name = "ClassID";
        settings.CallbackRouteValues = new { Controller = "BulkCorrespondence", Action = "LearnerClassPickList" };
        settings.Properties.ValueType = typeof(Int32);
        settings.ControlStyle.CssClass = "formeditor";
        settings.Properties.TextField = "Description";
        settings.Properties.ValueField = "ID";
        settings.Properties.CallbackPageSize = 20;
        settings.Properties.ValidationSettings.ErrorDisplayMode = ErrorDisplayMode.ImageWithTooltip;
        settings.Width = 150;
        settings.Properties.ClientSideEvents.BeginCallback = "function(s, e) { e.customArgs['GradeID'] = NewListGrade.GetValue(); }";
        //settings.Properties.ClientSideEvents.Validation = "function(s,e){validateRequiredField(e.value, e);}";
    }).BindList(EduSpec.Controllers.BulkCorrespondenceController.GetInstitutionLearnerClass(Convert.ToInt32(ViewData["GradeID"]), Convert.ToInt32(HttpContext.Current.Session["InstID"]))).Bind(Model).GetHtml()
}
else
{
    @Html.DevExpress().ComboBox(settings =>
    {
        settings.Name = "ClassID";
        settings.CallbackRouteValues = new { Controller = "BulkCorrespondence", Action = "LearnerClassPickList" };
        settings.Properties.ValueType = typeof(Int32);
        settings.ControlStyle.CssClass = "formeditor";
        settings.Properties.TextField = "Description";
        settings.Properties.ValueField = "ID";
        settings.Properties.CallbackPageSize = 20;
        settings.Properties.ValidationSettings.ErrorDisplayMode = ErrorDisplayMode.ImageWithTooltip;
        settings.Width = 150;
        settings.Properties.ClientSideEvents.BeginCallback = "function(s, e) { e.customArgs['GradeID'] = NewListGrade.GetValue(); }";
        //settings.Properties.ClientSideEvents.Validation = "function(s,e){validateRequiredField(e.value, e);}";
    }).BindList(EduSpec.Controllers.BulkCorrespondenceController.GetInstitutionLearnerClass(Convert.ToInt32(ViewData["GradeID"]), Convert.ToInt32(HttpContext.Current.Session["InstID"]))).Bind(Model, "ClassID").GetHtml()
}